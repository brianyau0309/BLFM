#!/bin/sh

div='|'

printNotification() {
  [ -f /tmp/.dunsttoggle ] && echo ðŸ”• || echo ðŸ””
}

printStorage() {
  df -h ~ | grep -v 'Filesystem' | awk '{ print "ðŸ’½ " $4 }'
}

printDate() {
  date '+ðŸ“… %Y-%m-%d(%a) ðŸ•’ %H:%M'
}

printAudio() {
  sound=$(amixer sget Master | grep 'Left:' | awk -F"[][]" '{ print $2 }')
  amixer sget Master | grep off >/dev/null &&
    echo ðŸ”‡ ||
    echo ðŸ”Š
  echo $sound
}

statusBar() {
  printAudio
  printStorage
  printDate
  printNotification
}

while :; do
  xsetroot -name " $( statusBar | tr '\n' ' ')" #Change newline to space
  sleep 30
done
